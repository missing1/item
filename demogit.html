<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>雪花</title>
<style type="text/css">
*{margin:0;padding:0;}
body{background:#000;}

</style>
</head>

<body>
	<canvas id="canvas" width="500" height="500">你的浏览器不支持</canvas>
    <script>
	var cnavas=document.getElementById("canvas");
	var ctx=canvas.getContext("2d");
	
	var W=window.innerWidth;
	var H=window.innerHeight;
	canvas.width=W;
	canvas.height=H;
	var snow=100;
	var snows=[];  //存放每个雪花坐标
	
	for(var i=0;i<snow;i++)
	{
		snows.push({
			x:Math.random()*W,
			y:Math.random()*H,
			rad:Math.random()*3+1,
			ragba:Math.random()
		})
	}

	function draw(){
		ctx.clearRect(0,0,W,H);
		ctx.beginPath();
		ctx.fillStyle="#fff";
		for(var i=0;i<snow;i++)
		{
			var p=snows[i];
			ctx.moveTo(p.x,p.y);
			ctx.arc(p.x,p.y,p.rad,0,Math.PI*2,false);
		}
		ctx.fill(); 
		ctx.closePath();
		update();
	}
	
	function update(){
		for(var i=0;i<snow;i++)
		{
			var p=snows[i];
			p.y+=Math.random()*0.5;
			
			if(p.y>H) p.y=0;
		}	
	}
	
	setInterval(draw,15);
	</script>
</body>
</html>
